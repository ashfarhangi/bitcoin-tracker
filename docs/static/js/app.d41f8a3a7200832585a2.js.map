{"version":3,"sources":["webpack:///./src/components/Price.vue?8ced","webpack:///./src/components/Price.vue","webpack:///./src/components/Metadata.vue?fa30","webpack:///./src/components/Metadata.vue","webpack:///src/App.vue","webpack:///src/components/Price.vue","webpack:///src/components/Metadata.vue","webpack:///./src/App.vue?d5ff","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["components_Price","render","_h","this","$createElement","_c","_self","staticClass","_m","_v","attrs","id","_s","$parent","getCleanValue","lastPrice","staticRenderFns","components_Metadata","_vm","metaInfo","App","name","components","Price","__webpack_require__","normalizeComponent","props","ssrContext","Metadata","Metadata_normalizeComponent","data","vol","daily","recordedPrices","methods","[object Object]","subscribeMsg","type","product_ids","channels","socket","WebSocket","onopen","send","JSON","stringify","onmessage","msg","parsedJSON","parse","parseFloat","push","time","Date","value","length","shift","renderGraph","extentX","d3","extent","d","xScale","domain","min","max","yScale","axis","call","axisLeft","scale","ticks","path","attr","line","toFixed","replace","connect","scaleTime","range","scaleLinear","that","x","y","curve","curveMonotoneX","graph","select","append","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","vue_esm","config","productionTip","el","template"],"mappings":"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","file":"static/js/app.d41f8a3a7200832585a2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"topbox floatl ml50\"},[_vm._m(0),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"price\"}},[_vm._v(_vm._s(this.$parent.getCleanValue(_vm.lastPrice)))])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"cryptoname\"}},[_vm._v(\"\\n        Bitcoin\"),_c('span',{staticClass:\"ticker\"},[_vm._v(\"BTC\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-72d8a88e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Price.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-72d8a88e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Price.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Price.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Price.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-72d8a88e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Price.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Price.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"topbox floatr\"},[_c('div',{staticClass:\"details\"},[_vm._v(\"volume: \"),_c('span',[_vm._v(_vm._s(this.$parent.getCleanValue(_vm.metaInfo['vol'])))])]),_vm._v(\" \"),_c('div',{staticClass:\"details\"},[_vm._v(\"daily high: \"),_c('span',[_vm._v(_vm._s(this.$parent.getCleanValue(_vm.metaInfo['daily'])))])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-774e7574\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Metadata.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-774e7574\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Metadata.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Metadata.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Metadata.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-774e7574\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Metadata.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Metadata.vue\n// module id = null\n// module chunks = ","<template>\n    <div id=\"container\">\n        <div class=\"upper-area\">\n            <Price v-bind:lastPrice=\"lastPrice\"/>\n            <Metadata v-bind:metaInfo=\"metaInfo\"/>\n        </div>\n    </div>\n</template>\n\n<script>\n\nimport Price from \"./components/Price\";\nimport Metadata from \"./components/Metadata\";\n\n\nexport default {\n    name: \"App\",\n    components: {\n        Price,\n        Metadata,\n    },\n    data(){\n        return{\n            lastPrice: 0.0,\n            metaInfo: {\n                vol: 0.0, \n                daily: 0.0\n            },\n            recordedPrices: []\n        }\n    },\n    methods: {\n        connect () {\n            const subscribeMsg = {\n                \"type\": \"subscribe\",\n                \"product_ids\": [\n                    \"BTC-USD\"\n                ],\n                \"channels\": [\n                    {\n                        \"name\": \"ticker\",\n                        \"product_ids\": [\n                            \"BTC-USD\"\n                        ]\n                    }\n                ]\n            }\n            const MAX_PRICE_MEMORY = 50;\n            const feedURL = 'wss://ws-feed.pro.coinbase.com';\n            \n            this.socket = new WebSocket(feedURL);\n\n            this.socket.onopen = () => {\n                this.socket.send(JSON.stringify(subscribeMsg));\n            }\n\n            this.socket.onmessage = (msg) => {\n                let parsedJSON = JSON.parse(msg.data);\n                if(parsedJSON[\"type\"] === \"ticker\"){\n                    this.lastPrice = parseFloat(parsedJSON[\"price\"]);\n                    this.recordedPrices.push({time: new Date(), value: parsedJSON[\"price\"]})\n                    this.metaInfo['vol'] = parsedJSON['volume_24h']\n                    this.metaInfo['daily'] = parsedJSON['high_24h']\n\n                    //Keep the array size under MAX_PRICE_MEMORY\n                    if(this.recordedPrices.length > MAX_PRICE_MEMORY)\n                        this.recordedPrices.shift();\n\n                    // console.log(this.lastPrice);\n                    // console.log(this.recordedPrices);\n                    this.renderGraph(this.recordedPrices);\n                }\n            }\n        },\n        renderGraph (data){\n            //Recalculate new min/max for each of x,y and update scale\n            let extentX = d3.extent(data, d => d.time);\n            this.xScale.domain(extentX);\n            //Pad Y Values by 1%\n            let min = parseFloat(d3.min(data, d => d.value));\n            let max = parseFloat(d3.max(data, d => d.value));\n            this.yScale.domain([min - min*.0001, max + max*.0001]);\n\n            //Update Y Axis\n            this.axis.call(d3.axisLeft().scale(this.yScale).ticks(3));\n            \n            //Update path\n            this.path.attr('d', this.line(data)).attr('class', 'smoothline');\n\n            \n        },\n        getCleanValue(data) {\n            return parseFloat(data)\n                    .toFixed(2)\n                    .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n        }\n    },\n\n    mounted () {\n        //Start streaming data from websocket\n        this.connect()\n\n        //---GRAPH CODE---//\n\n        //D3 Related letiables\n        let width = 800;\n        let height = 600;\n\n        //Mapping functions for each of x,y\n        this.xScale = d3.scaleTime()\n            .range([0,width])\n        this.yScale = d3.scaleLinear()\n            .range([height,0])\n            \n        //Line function, maps time,value to x,y cords\n        var that = this\n        this.line = d3.line()\n            .x(function(d){ return that.xScale(d.time); })\n            .y(function(d){ return that.yScale(d.value); })\n            .curve(d3.curveMonotoneX)\n\n        //Append graph to placeholder\n        let graph = d3.select(\"#container\").append(\"svg\")\n            .attr(\"height\", height)\n            .attr(\"width\", width)\n            .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n            .attr(\"viewBox\", \"0 0 800 600\")\n            .attr(\"id\", \"graph\")\n            .append(\"g\")\n        this.path = graph.append('path').attr(\"stroke-linecap\",\"round\")\n\n            \n        //Y Axis\n        this.axis = graph.append(\"g\").attr('class', 'axis');\n        \n    }\n\n};\n\n\n</script>\n\n<style lang=\"scss\">\n    @import './assets/styles.css';\n</style>\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n\n    <div class=\"topbox floatl ml50\">\n        <div id=\"cryptoname\">\n            Bitcoin<span class=\"ticker\">BTC</span>\n        </div>\n        <div id=\"price\">{{this.$parent.getCleanValue(lastPrice)}}</div>\n    </div>\n\n</template>\n\n\n<script>\nexport default {\n    props: ['lastPrice'],\n    name: \"Price\"\n};\n</script>\n\n\n<style>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Price.vue","<template>\n\n    <div class=\"topbox floatr\">\n        <div class=\"details\">volume: <span>{{this.$parent.getCleanValue(metaInfo['vol'])}}</span></div>\n        <div class=\"details\">daily high: <span>{{this.$parent.getCleanValue(metaInfo['daily'])}}</span></div>\n    </div>\n\n</template>\n\n\n<script>\nexport default {\n    name: \"Metadata\",\n    props: ['metaInfo']\n\n};\n</script>\n\n\n<style>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Metadata.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"container\"}},[_c('div',{staticClass:\"upper-area\"},[_c('Price',{attrs:{\"lastPrice\":_vm.lastPrice}}),_vm._v(\" \"),_c('Metadata',{attrs:{\"metaInfo\":_vm.metaInfo}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-74bcc066\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-74bcc066\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-74bcc066\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}